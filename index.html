<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MMA Official App</title>
<style>
  :root{
    --bg:#0c1a2a;
    --card:#0f2238;
    --text:#e6f0ff;
    --muted:#9cb6d1;
    --brand:#11b7ff;
    --brand-2:#6be7ff;
    --danger:#ff5d6c;
    --ok:#2ecc71;
    --chip:#152a44;
    --chip-text:#bcd0ea;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial,"Noto Sans","Helvetica Neue",sans-serif;color:var(--text);background: radial-gradient(1200px 600px at 30% -10%, #0c2b4c 5%, transparent 60%), radial-gradient(800px 400px at 90% 0%, #0a2240 5%, transparent 55%), var(--bg);min-height:100vh;}
  .container{max-width:1100px;margin:42px auto;padding:0 16px;}
  .card{background:linear-gradient(180deg,rgba(18,37,62,.75),rgba(12,31,53,.75));border:1px solid rgba(255,255,255,.06);border-radius:14px;box-shadow:0 10px 24px rgba(0,0,0,.35);padding:22px;}
  h1,h2,h3{margin:0 0 10px}
  .muted{color:var(--muted)}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  .nav{display:flex;gap:8px;margin:12px 0 6px}
  .btn{background:#162e4d;color:var(--text);border:1px solid rgba(255,255,255,.08);padding:8px 12px;border-radius:8px;cursor:pointer;transition:.2s;font-weight:600;font-size:14px;}
  .btn:hover{transform:translateY(-1px);border-color:rgba(17,183,255,.5)}
  .btn.brand{background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#031622;border:none}
  .btn.danger{background:linear-gradient(90deg,#ff6b6b,#ff7e8b);color:#2b0b12;border:none}
  .btn.ok{background:linear-gradient(90deg,#2ecc71,#6be78f);color:#062212;border:none}
  .badge{display:inline-block;padding:4px 10px;border-radius:999px;background:var(--chip);color:var(--chip-text);font-size:12px}
  .grid{display:grid;gap:14px}
  .grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
  .hidden{display:none!important}
  input,textarea,select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:#0e2137;color:var(--text);outline:none;}
  label{font-size:13px;color:var(--muted)}
  .sectionTitle{margin:18px 0 8px;font-size:13px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
  .list{background:#0f2238;border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:12px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;white-space:pre-wrap}
  .center{display:flex;align-items:center;justify-content:center;min-height:60vh}
  .login-card{width:100%;max-width:520px}
  .success{color:var(--ok)}
  .danger-text{color:var(--danger)}
  .hr{height:1px;background:rgba(255,255,255,.06);margin:12px 0}
  .topbar{display:flex;align-items:center;justify-content:space-between;gap:10px}
  .titleRow{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
  .kicker{font-size:13px;color:var(--muted)}
  .quickRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
  .notice{font-size:13px;color:var(--muted)}
  @media(max-width:760px){.grid-2{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">
  <!-- LOGIN VIEW -->
  <div id="view-login" class="center">
    <div class="card login-card">
      <h2 style="margin-bottom:4px;">Login</h2>
      <div class="kicker">Username à¤”à¤° Password à¤­à¤°à¥‹à¥¤</div>
      <div class="hr"></div>
      <div class="grid">
        <div><label>Username</label><input id="login-username" placeholder="e.g. Ritvik kem" /></div>
        <div><label>Password</label><input id="login-password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢" /></div>
        <div class="row" style="justify-content:flex-end;margin-top:6px"><button class="btn brand" id="btn-login">Login</button></div>
        <div id="login-error" class="danger-text hidden">Invalid login!</div>
      </div>
    </div>
  </div>

  <!-- APP VIEW -->
  <div id="view-app" class="hidden">
    <div class="card">
      <div class="topbar">
        <div>
          <div class="titleRow"><h2 id="welcome-title">Welcome</h2></div>
          <div class="success" id="congrats-line">ðŸŽ‰ Congratulations, Welcome!</div>
          <div class="kicker" style="margin-top:6px;">Rank: <span id="rank-chip" class="badge">-</span></div>
          <div class="kicker" style="margin-top:6px;">Today: <span id="today"></span></div>
        </div>
        <div class="nav">
          <button class="btn" data-tab="home">Home</button>
          <button class="btn" data-tab="attendance">Attendance</button>
          <button class="btn" data-tab="complaint">Complaint</button>
          <button class="btn" data-tab="records">My Records</button>
          <button class="btn" data-tab="vote">Vote</button>
          <button class="btn hidden" id="btn-admin" data-tab="admin">Admin Panel</button>
          <button class="btn" id="btn-logout">Logout</button>
        </div>
      </div>

      <div class="hr"></div>

      <!-- VOTE TAB -->
      <div id="tab-vote" class="hidden">
        <h3>Vote Section</h3>
        <div class="grid">
          <div>
            <label>Your Vote</label>
            <input id="vote-input" placeholder="Type your vote..." />
          </div>
          <div class="row" style="justify-content:flex-end">
            <button class="btn brand" id="btn-submit-vote">Submit Vote</button>
          </div>
        </div>
        <div class="sectionTitle">All Votes</div>
        <div class="list" id="vote-list">No votes yet</div>
      </div>

      <!-- à¤¬à¤¾à¤•à¥€ Tabs same à¤°à¤¹à¥‡à¤‚à¤—à¥‡ -->
    </div>
  </div>
</div>

<script>
const USERS = {
  "bhavya solanki": { name:"Bhavya solanki", pass:"1111111", rank:"HEAD" },
  "vrinda solanki": { name:"Vrinda solanki", pass:"8888888", rank:"GOD" },
  "ritvik kem": { name:"Ritvik kem", pass:"20250179751", rank:"ZOD" },
  "simrit solanki": { name:"Simrit solanki", pass:"2025", rank:"GOLDEN" },
};
const LS={SESSION:"mma_session_v1",DATA:"mma_data_v1"};
function loadData(){const raw=localStorage.getItem(LS.DATA);if(!raw){const base={attendance:{},complaints:{},votes:{},bans:{}};localStorage.setItem(LS.DATA,JSON.stringify(base));return base;}try{return JSON.parse(raw)}catch{localStorage.removeItem(LS.DATA);return loadData();}}
function saveData(d){localStorage.setItem(LS.DATA,JSON.stringify(d));}
let DATA=loadData();
const $=sel=>document.querySelector(sel);
const todayStr=()=>new Date().toISOString().slice(0,10);
$("#today").textContent=todayStr();
function normalizeUser(u){return(u||"").trim().toLowerCase();}
function getSession(){const raw=localStorage.getItem(LS.SESSION);if(!raw) return null;try{return JSON.parse(raw)}catch{return null}}
function setSession(s){if(s)localStorage.setItem(LS.SESSION,JSON.stringify(s));else localStorage.removeItem(LS.SESSION);}
$("#btn-login").addEventListener("click",()=>{const u=normalizeUser($("#login-username").value);const p=$("#login-password").value.trim();const user=USERS[u];if(!user||user.pass!==p){$("#login-error").classList.remove("hidden");return;}$("#login-error").classList.add("hidden");setSession({userKey:u});initAfterLogin();});
$("#btn-logout").addEventListener("click",()=>{setSession(null);setView("view-login");});
function setView(id){$("#view-login").classList.add("hidden");$("#view-app").classList.add("hidden");document.querySelectorAll('[id^="tab-"]').forEach(n=>n.classList.add("hidden"));if(id.startsWith("tab-")){$("#view-app").classList.remove("hidden");$("#"+id).classList.remove("hidden");}else{$("#"+id).classList.remove("hidden");}}
function showTab(name){document.querySelectorAll('[id^="tab-"]').forEach(n=>n.classList.add("hidden"));$("#tab-"+name).classList.remove("hidden");}
document.querySelectorAll('.nav .btn[data-tab]').forEach(b=>b.addEventListener("click",()=>showTab(b.dataset.tab)));
function initAfterLogin(){const s=getSession();if(!s)return;const user=USERS[s.userKey];$("#welcome-title").textContent=`Welcome, ${user.name}`;$("#rank-chip").textContent=user.rank;setView("tab-home");refreshVotes();}
$("#btn-submit-vote").addEventListener("click",()=>{const s=getSession();if(!s)return;const text=$("#vote-input").value.trim();if(!text){alert("Enter a vote");return;}if(!DATA.votes[s.userKey])DATA.votes[s.userKey]=[];DATA.votes[s.userKey].push({text,at:new Date().toISOString()});saveData(DATA);$("#vote-input").value="";refreshVotes();alert("Vote submitted âœ…");});
function refreshVotes(){const lines=[];for(const [userKey,votes] of Object.entries(DATA.votes)){const name=USERS[userKey]?.name||userKey;votes.forEach(v=>lines.push(`${name}: ${v.text} (${v.at.slice(0,16).replace('T',' ')})`));}$("#vote-list").textContent=lines.length?lines.join("\n"):"No votes yet";}
window.addEventListener("DOMContentLoaded",()=>{const s=getSession();if(s)initAfterLogin();else setView("view-login");});
</script>
</body>
</html>
